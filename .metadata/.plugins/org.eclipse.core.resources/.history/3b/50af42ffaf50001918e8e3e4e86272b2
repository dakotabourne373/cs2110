import java.util.Collections;
import javax.swing.*;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.File;

import javax.imageio.ImageIO;

public class PhotoViewer extends JFrame {
	private PhotographContainer imageAlbum;
	private JPanel thumbnails;
	
	
	public PhotoViewer() {
		thumbnails = new JPanel();
		
		// set the window size
		this.setBounds(100, 100, 450, 300);
		
		// what to do when closing
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		
		// a title
		this.setTitle("Photo Viewer v0.1");
		
		int height = (int)Toolkit.getDefaultToolkit().getScreenSize().getHeight();
		int width = (int)Toolkit.getDefaultToolkit().getScreenSize().getWidth();
		this.setSize(width/2, height/2);
		this.getContentPane().setLayout(new BorderLayout(0,0));
		
		try {
			for (Photograph p: imageAlbum.photos) {
				BufferedImage picture = ImageIO.read(new File(p.getFilename()));
				JLabel picLabel = new JLabel(new ImageIcon(picture));
				picLabel.setText(p.getCaption() + ", " + p.getDateTaken() + ", " + p.getRating());
				
				thumbnails.add(picLabel);
				
				this.getContentPane().add(thumbnails, BorderLayout.WEST);
			}
		} catch (Exception e) {
			
		}
		
		setVisible(true);
	}
	
	public static void main(String[] args) {
		PhotoViewer myViewer = new PhotoViewer();
		
		// relative path for PCs:
		String imageDirectory =
		"C:\\Users\\student\\eclipse-workspace\\Instagram\\images\\";
		
		Photograph p1 = new Photograph("chung bigus", imageDirectory + "image1.png", "2016-05-25", 1);
		Photograph p2 = new Photograph("Nyananananan", imageDirectory + "image2.jpg", "2017-07-21", 4);
		Photograph p3 = new Photograph("minions lol", imageDirectory + "image3.jpg", "2014-03-04", 2);
		Photograph p4 = new Photograph("spoderman", imageDirectory + "image4.jpg", "2018-06-16", 3);
		Photograph p5 = new Photograph("corn", imageDirectory + "image5.png", "2019-03-26", 5);
		
		// four more photographs like the line above
		myViewer.imageAlbum = new PhotoLibrary("Test Library", 1);
		
		myViewer.imageAlbum.addPhoto(p1);
		myViewer.imageAlbum.addPhoto(p2);
		myViewer.imageAlbum.addPhoto(p3);
		myViewer.imageAlbum.addPhoto(p4);
		myViewer.imageAlbum.addPhoto(p5);
		
		// four more photographs added like the line above
		Collections.sort(myViewer.imageAlbum.photos);
	}
 
}

